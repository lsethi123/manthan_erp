.row{"ng-controller" => "TeacherGradeMapController"}
  .row
    .col-md-2 
    .col-md-8
      .col-md-5 
        .col-md-12
          = label_tag(:grade, "Select Teacher") 
        .form-group.col-md-12
          %select{"ng-model" => "myTeacher", "ng-options" => "faculty.id as faculty.name for faculty  in faculty_names | orderBy:'name'",:class => "form-control"}       
            %option{style: "display:none", value: ""} Select Teacher 
      .col-md-5
        = submit_tag("SHOW TEACHER-GRADE MAPPING",{class: "btn btn-primary", :ng_click => "showMappings()"})
      .col-md-2
               
    .col-md-2  
  .row
    .col-md-1
    .col-md-8
      %div{"ng-show" => "myNewEditFormValue"}
        %table{:class => "table"}
          %tr
            %th No
            %th GRADE
            %th SECTION
            %th SUBJECT
          %tr{"ng-repeat" => "mapping in mappings | orderBy:'id'" }
            %td Mapping {{" "+($index+1)}} {{+" "+data.length}}
            %td               
              %select{"ng-model" => "mapping.grade_master_id", "ng-options" => "grade.id as grade.grade for grade in grades ",:class => "form-control"} 
                %option{value: ""}
              {{mapping['grade_master_id']}}
            %td{"ng-show" => "mySectionMultiSelect"} 
              %select{:multiple => "multiple","ng-model" => "mapping['section_master_id']", "ng-options" => "section.id as section.section for section  in sections | filter : {grade_master_id: mapping['grade_master_id']}",:class => "form-control"}  
                %option{value: ""}
              {{mapping['section_master_id']}}
            %td{"ng-show" => "mySingleSelect"} 
              %select{"ng-model" => "mapping['section_master_id']", "ng-options" => "section.id as section.section for section  in sections | filter : {grade_master_id: mapping['grade_master_id']}",:class => "form-control"}  
                %option{value: ""}
              {{mapping['section_master_id']}}
            %td
              %select{"ng-model" => "mapping['subject_master_id']", "ng-options" => "subject.id as subject.subject for subject in subjects",:class => "form-control"} 
                %option{value: ""}
              {{mapping['subject_master_id']}}            
    .col-md-3{"ng-show" => "myNewEditFormValue"}                     
      %input{:type => "button", :class => "btn btn-primary", "ng-click" => "saveMappings()", :value => "SAVE"}
      %input{:type => "button", :class => "btn btn-primary", "ng-click" => "addOneMappings()", :value => "ADD"}
  .row
    = render "show_form"
